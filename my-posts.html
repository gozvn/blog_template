<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Posts - BLOG</title>
    <!-- Bootstrap CSS CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <!-- Quill Editor CSS -->
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
</head>
<body>

    <header class="p-3 mb-3 border-bottom">
        <div class="container">
          <div class="d-flex flex-wrap align-items-center justify-content-between">
            <!-- Logo -->
            <a href="index.html" class="d-flex align-items-center mb-2 mb-lg-0 link-body-emphasis text-decoration-none">
              <h4 class="mb-0 fw-bold text-primary">BLOG</h4>
            </a>
            
            <!-- Navigation for large screens -->
            <ul class="nav d-none d-lg-flex me-lg-auto mb-2 justify-content-center mb-md-0">
              <li>
                <a href="index.html" class="nav-link px-2 link-body-emphasis">Home</a>
              </li>
              <li>
                <a href="categories.html" class="nav-link px-2 link-body-emphasis">Categories</a>
              </li>
              <li>
                <a href="post_category.html" class="nav-link px-2 link-body-emphasis">Technology</a>
              </li>
              <li>
                <a href="my-posts.html" class="nav-link px-2 link-body-emphasis active">My Posts</a>
              </li>
              <li>
                <a href="#" class="nav-link px-2 link-body-emphasis">About</a>
              </li>
              <li>
                <a href="#" class="nav-link px-2 link-body-emphasis">Contact</a>
              </li>
            </ul>
            
            <div class="d-flex align-items-center">
              <!-- Search form for large screens only -->
              <form class="me-3 d-none d-lg-block" role="search">
                <input type="search" class="form-control" placeholder="Search..." aria-label="Search">
              </form>
              
              <!-- User dropdown for large screens only -->
              <div class="dropdown text-end me-3 d-none d-lg-block">
                <a href="#" class="d-block link-body-emphasis text-decoration-none dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                  <img src="img/no_img.jpg" alt="User Avatar" width="32" height="32" class="rounded-circle">
                </a>
                <ul class="dropdown-menu text-small">
                  <li><a class="dropdown-item" href="my-posts.html"><i class="bi bi-file-text me-2"></i>My Posts</a></li>
                  <li><a class="dropdown-item" href="#"><i class="bi bi-gear me-2"></i>Settings</a></li>
                  <li><a class="dropdown-item" href="#"><i class="bi bi-person me-2"></i>Profile</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="index.html"><i class="bi bi-box-arrow-right me-2"></i>Sign out</a></li>
                </ul>
              </div>
              
              <!-- Hamburger menu button for mobile -->
              <button class="btn btn-outline-secondary d-lg-none d-flex align-items-center justify-content-center" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar" style="width: 40px; height: 40px;">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-list" viewBox="0 0 16 16">
                  <path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"/>
                </svg>
              </button>
            </div>
          </div>
        </div>
    </header>

    <!-- Offcanvas Menu -->
    <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Menu</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <!-- User Profile Section -->
        <div class="d-flex align-items-center mb-4 pb-3 border-bottom">
          <img src="img/no_img.jpg" alt="User Avatar" width="48" height="48" class="rounded-circle me-3">
          <div>
            <h6 class="mb-0">John Doe</h6>
            <small class="text-muted">john.doe@example.com</small>
          </div>
        </div>
        
        <!-- Navigation Links -->
        <ul class="navbar-nav flex-grow-1 pe-3 mb-4">
          <li class="nav-item">
            <a class="nav-link" href="index.html">
              <i class="bi bi-house-door me-2"></i>Home
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="categories.html">
              <i class="bi bi-grid me-2"></i>Categories
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="post_category.html">
              <i class="bi bi-laptop me-2"></i>Technology
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="my-posts.html">
              <i class="bi bi-file-text me-2"></i>My Posts
            </a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="bi bi-three-dots me-2"></i>More
            </a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="#"><i class="bi bi-info-circle me-2"></i>About</a></li>
              <li><a class="dropdown-item" href="#"><i class="bi bi-envelope me-2"></i>Contact</a></li>
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item" href="#"><i class="bi bi-gear me-2"></i>Settings</a></li>
            </ul>
          </li>
        </ul>
        
        <!-- Search form in offcanvas -->
        <form class="d-flex mb-4" role="search">
          <input class="form-control me-2" type="search" placeholder="Search..." aria-label="Search">
          <button class="btn btn-outline-primary" type="submit">
            <i class="bi bi-search"></i>
          </button>
        </form>
        
        <!-- User Actions -->
        <div class="mt-auto">
          <hr class="mb-3">
          <ul class="list-unstyled">
            <li><a class="dropdown-item py-2" href="#" onclick="showCreatePostModal()"><i class="bi bi-plus-circle me-2"></i>New Post</a></li>
            <li><a class="dropdown-item py-2" href="#"><i class="bi bi-person-circle me-2"></i>Profile</a></li>
            <li><a class="dropdown-item py-2" href="#"><i class="bi bi-gear me-2"></i>Settings</a></li>
            <li><hr class="dropdown-divider my-2"></li>
            <li><a class="dropdown-item py-2 text-danger" href="index.html"><i class="bi bi-box-arrow-right me-2"></i>Sign out</a></li>
          </ul>
        </div>
      </div>
    </div>
    <!-- End Header -->

    <div class="container">
        <!-- Page Header -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="d-flex justify-content-between align-items-center flex-wrap">
                    <div>
                        <h1 class="fw-bold text-dark mb-2">My Posts</h1>
                        <p class="text-muted mb-0">Manage your blog posts</p>
                    </div>
                    <button class="btn btn-primary" onclick="showCreatePostModal()">
                        <i class="bi bi-plus-circle me-2"></i>Create New Post
                    </button>
                </div>
            </div>
        </div>

        <!-- Stats Cards -->
        <div class="row mb-4">
            <div class="col-md-3 col-sm-6 mb-3">
                <div class="card bg-primary text-white">
                    <div class="card-body">
                        <div class="d-flex justify-content-between">
                            <div>
                                <h4 class="card-title">12</h4>
                                <p class="card-text">Total Posts</p>
                            </div>
                            <div class="align-self-center">
                                <i class="bi bi-file-text fs-1"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6 mb-3">
                <div class="card bg-success text-white">
                    <div class="card-body">
                        <div class="d-flex justify-content-between">
                            <div>
                                <h4 class="card-title">8</h4>
                                <p class="card-text">Published</p>
                            </div>
                            <div class="align-self-center">
                                <i class="bi bi-check-circle fs-1"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6 mb-3">
                <div class="card bg-warning text-dark">
                    <div class="card-body">
                        <div class="d-flex justify-content-between">
                            <div>
                                <h4 class="card-title">3</h4>
                                <p class="card-text">Drafts</p>
                            </div>
                            <div class="align-self-center">
                                <i class="bi bi-file-earmark fs-1"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6 mb-3">
                <div class="card bg-info text-white">
                    <div class="card-body">
                        <div class="d-flex justify-content-between">
                            <div>
                                <h4 class="card-title">1,234</h4>
                                <p class="card-text">Total Views</p>
                            </div>
                            <div class="align-self-center">
                                <i class="bi bi-eye fs-1"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Filter and Search -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <label class="form-label">Filter by Status</label>
                                <select class="form-select" id="statusFilter" onchange="filterPosts()">
                                    <option value="">All Posts</option>
                                    <option value="published">Published</option>
                                    <option value="draft">Draft</option>
                                    <option value="pending">Pending Review</option>
                                </select>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label class="form-label">Filter by Category</label>
                                <select class="form-select" id="categoryFilter" onchange="filterPosts()">
                                    <option value="">All Categories</option>
                                    <option value="technology">Technology</option>
                                    <option value="design">Design</option>
                                    <option value="business">Business</option>
                                    <option value="lifestyle">Lifestyle</option>
                                </select>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label class="form-label">Search Posts</label>
                                <input type="text" class="form-control" id="searchInput" placeholder="Search by title..." onkeyup="filterPosts()">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Posts List -->
        <div class="row" id="postsList">
            <!-- Post Item 1 -->
            <div class="col-12 mb-4 post-item" data-status="published" data-category="technology">
                <div class="card h-100 shadow-sm">
                    <div class="row g-0">
                        <div class="col-md-3">
                            <img src="img/no_img.jpg" class="img-fluid rounded-start h-100 object-cover" alt="Post Image">
                        </div>
                        <div class="col-md-9">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-start mb-2">
                                    <span class="badge bg-primary">Technology</span>
                                    <span class="badge bg-success">Published</span>
                                </div>
                                <h5 class="card-title fw-bold">The Future of Web Development</h5>
                                <p class="card-text text-muted">
                                    Explore the latest trends and technologies shaping the future of web development in 2025. From AI integration to serverless architectures...
                                </p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <div>
                                        <small class="text-muted">
                                            <i class="bi bi-calendar me-1"></i>Oct 12, 2025
                                            <i class="bi bi-eye ms-3 me-1"></i>245 views
                                            <i class="bi bi-heart ms-3 me-1"></i>23 likes
                                        </small>
                                    </div>
                                    <div class="btn-group" role="group">
                                        <button type="button" class="btn btn-sm btn-outline-primary" onclick="viewPost(1)">
                                            <i class="bi bi-eye"></i>
                                        </button>
                                        <button type="button" class="btn btn-sm btn-outline-success" onclick="editPost(1)">
                                            <i class="bi bi-pencil"></i>
                                        </button>
                                        <button type="button" class="btn btn-sm btn-outline-danger" onclick="deletePost(1)">
                                            <i class="bi bi-trash"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Post Item 2 -->
            <div class="col-12 mb-4 post-item" data-status="draft" data-category="design">
                <div class="card h-100 shadow-sm">
                    <div class="row g-0">
                        <div class="col-md-3">
                            <img src="img/no_img.jpg" class="img-fluid rounded-start h-100 object-cover" alt="Post Image">
                        </div>
                        <div class="col-md-9">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-start mb-2">
                                    <span class="badge bg-success">Design</span>
                                    <span class="badge bg-warning text-dark">Draft</span>
                                </div>
                                <h5 class="card-title fw-bold">UI/UX Design Principles</h5>
                                <p class="card-text text-muted">
                                    Learn essential design principles that create beautiful and user-friendly interfaces. This comprehensive guide covers...
                                </p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <div>
                                        <small class="text-muted">
                                            <i class="bi bi-calendar me-1"></i>Oct 11, 2025
                                            <i class="bi bi-clock ms-3 me-1"></i>Draft saved
                                        </small>
                                    </div>
                                    <div class="btn-group" role="group">
                                        <button type="button" class="btn btn-sm btn-outline-primary" onclick="viewPost(2)">
                                            <i class="bi bi-eye"></i>
                                        </button>
                                        <button type="button" class="btn btn-sm btn-outline-success" onclick="editPost(2)">
                                            <i class="bi bi-pencil"></i>
                                        </button>
                                        <button type="button" class="btn btn-sm btn-outline-info" onclick="publishPost(2)">
                                            <i class="bi bi-upload"></i>
                                        </button>
                                        <button type="button" class="btn btn-sm btn-outline-danger" onclick="deletePost(2)">
                                            <i class="bi bi-trash"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Post Item 3 -->
            <div class="col-12 mb-4 post-item" data-status="published" data-category="business">
                <div class="card h-100 shadow-sm">
                    <div class="row g-0">
                        <div class="col-md-3">
                            <img src="img/no_img.jpg" class="img-fluid rounded-start h-100 object-cover" alt="Post Image">
                        </div>
                        <div class="col-md-9">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-start mb-2">
                                    <span class="badge bg-info">Business</span>
                                    <span class="badge bg-success">Published</span>
                                </div>
                                <h5 class="card-title fw-bold">Startup Growth Strategies</h5>
                                <p class="card-text text-muted">
                                    Essential tactics for scaling your startup and achieving sustainable growth. Learn from successful entrepreneurs...
                                </p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <div>
                                        <small class="text-muted">
                                            <i class="bi bi-calendar me-1"></i>Oct 8, 2025
                                            <i class="bi bi-eye ms-3 me-1"></i>189 views
                                            <i class="bi bi-heart ms-3 me-1"></i>31 likes
                                        </small>
                                    </div>
                                    <div class="btn-group" role="group">
                                        <button type="button" class="btn btn-sm btn-outline-primary" onclick="viewPost(3)">
                                            <i class="bi bi-eye"></i>
                                        </button>
                                        <button type="button" class="btn btn-sm btn-outline-success" onclick="editPost(3)">
                                            <i class="bi bi-pencil"></i>
                                        </button>
                                        <button type="button" class="btn btn-sm btn-outline-danger" onclick="deletePost(3)">
                                            <i class="bi bi-trash"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Empty State -->
        <div class="text-center py-5" id="emptyState" style="display: none;">
            <i class="bi bi-file-text text-muted" style="font-size: 4rem;"></i>
            <h3 class="text-muted mt-3">No posts found</h3>
            <p class="text-muted">Try adjusting your filters or create a new post.</p>
            <button class="btn btn-primary" onclick="showCreatePostModal()">
                <i class="bi bi-plus-circle me-2"></i>Create Your First Post
            </button>
        </div>
    </div>

    <!-- Create/Edit Post Modal -->
    <div class="modal fade" id="postModal" tabindex="-1" aria-labelledby="postModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="postModalLabel">Create New Post</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="postForm">
                        <input type="hidden" id="postId" value="">
                        
                        <div class="row mb-3">
                            <div class="col-md-8">
                                <label for="postTitle" class="form-label">Title</label>
                                <input type="text" class="form-control" id="postTitle" placeholder="Enter post title" required>
                            </div>
                            <div class="col-md-4">
                                <label for="postCategory" class="form-label">Category</label>
                                <select class="form-select" id="postCategory" required>
                                    <option value="">Select Category</option>
                                    <option value="technology">Technology</option>
                                    <option value="design">Design</option>
                                    <option value="business">Business</option>
                                    <option value="lifestyle">Lifestyle</option>
                                </select>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="postExcerpt" class="form-label">Excerpt</label>
                            <textarea class="form-control" id="postExcerpt" rows="3" placeholder="Brief description of your post..."></textarea>
                        </div>

                        <div class="mb-3">
                            <label for="postImage" class="form-label">Featured Image</label>
                            <input type="file" class="form-control" id="postImage" accept="image/*">
                            <div id="imagePreview" class="mt-2" style="display: none;">
                                <img id="previewImg" src="" alt="Preview" class="img-thumbnail" style="max-height: 200px;">
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Content</label>
                            <div id="editor" style="height: 300px;"></div>
                        </div>

                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="postTags" class="form-label">Tags</label>
                                <input type="text" class="form-control" id="postTags" placeholder="web, design, coding (separated by commas)">
                            </div>
                            <div class="col-md-6">
                                <label for="postStatus" class="form-label">Status</label>
                                <select class="form-select" id="postStatus">
                                    <option value="draft">Save as Draft</option>
                                    <option value="published">Publish Now</option>
                                    <option value="pending">Submit for Review</option>
                                </select>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-outline-primary" onclick="saveDraft()">Save Draft</button>
                    <button type="button" class="btn btn-primary" onclick="savePost()">Save Post</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Custom Styles -->
    <style>
        .object-cover {
            object-fit: cover;
        }
        
        .post-item {
            transition: transform 0.2s ease-in-out;
        }
        
        .post-item:hover {
            transform: translateY(-2px);
        }
        
        .card {
            transition: box-shadow 0.3s ease;
        }
        
        .card:hover {
            box-shadow: 0 .5rem 1rem rgba(0,0,0,.15)!important;
        }
        
        .btn-group .btn {
            border-radius: 0;
        }
        
        .btn-group .btn:first-child {
            border-radius: 0.375rem 0 0 0.375rem;
        }
        
        .btn-group .btn:last-child {
            border-radius: 0 0.375rem 0.375rem 0;
        }
        
        @media (max-width: 768px) {
            .btn-group {
                display: flex;
                flex-direction: column;
                width: 100%;
            }
            
            .btn-group .btn {
                border-radius: 0.375rem !important;
                margin-bottom: 2px;
            }
        }
    </style>

    <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
        <div class="container">
            <div class="col-md-4 d-flex align-items-center">
                <span class="mb-3 mb-md-0 text-body-secondary">© 2025 BLOG, Inc</span>
            </div>
            <ul class="nav col-md-4 justify-content-end list-unstyled d-flex">
                <li class="ms-3">
                    <a class="text-body-secondary" href="#" aria-label="Twitter">
                        <i class="bi bi-twitter"></i>
                    </a>
                </li>
                <li class="ms-3">
                    <a class="text-body-secondary" href="#" aria-label="Facebook">
                        <i class="bi bi-facebook"></i>
                    </a>
                </li>
            </ul>
        </div>
    </footer>

    <!-- Bootstrap JS CDN -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <!-- Quill Editor JS -->
    <script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>

    <script>
        let quill;
        let isEditMode = false;

        // Initialize Quill editor
        document.addEventListener('DOMContentLoaded', function() {
            quill = new Quill('#editor', {
                theme: 'snow',
                placeholder: 'Write your post content here...',
                modules: {
                    toolbar: [
                        [{ 'header': [1, 2, 3, 4, 5, 6, false] }],
                        ['bold', 'italic', 'underline', 'strike'],
                        [{ 'color': [] }, { 'background': [] }],
                        [{ 'list': 'ordered'}, { 'list': 'bullet' }],
                        [{ 'indent': '-1'}, { 'indent': '+1' }],
                        ['blockquote', 'code-block'],
                        ['link', 'image'],
                        ['clean']
                    ]
                }
            });

            // Image preview functionality
            document.getElementById('postImage').addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        document.getElementById('previewImg').src = e.target.result;
                        document.getElementById('imagePreview').style.display = 'block';
                    };
                    reader.readAsDataURL(file);
                }
            });
        });

        // Sample posts data
        const postsData = {
            1: {
                title: 'The Future of Web Development',
                category: 'technology',
                excerpt: 'Explore the latest trends and technologies shaping the future of web development in 2025.',
                content: '<h2>Introduction</h2><p>Web development is evolving rapidly...</p>',
                tags: 'web development, technology, future',
                status: 'published'
            },
            2: {
                title: 'UI/UX Design Principles',
                category: 'design',
                excerpt: 'Learn essential design principles that create beautiful and user-friendly interfaces.',
                content: '<h2>Design Principles</h2><p>Good design is not just about aesthetics...</p>',
                tags: 'design, ui, ux, principles',
                status: 'draft'
            },
            3: {
                title: 'Startup Growth Strategies',
                category: 'business',
                excerpt: 'Essential tactics for scaling your startup and achieving sustainable growth.',
                content: '<h2>Growth Strategies</h2><p>Building a successful startup requires...</p>',
                tags: 'startup, business, growth, strategy',
                status: 'published'
            }
        };

        function showCreatePostModal() {
            isEditMode = false;
            document.getElementById('postModalLabel').textContent = 'Create New Post';
            document.getElementById('postForm').reset();
            document.getElementById('postId').value = '';
            document.getElementById('imagePreview').style.display = 'none';
            quill.setContents([]);
            
            const modal = new bootstrap.Modal(document.getElementById('postModal'));
            modal.show();
        }

        function editPost(postId) {
            isEditMode = true;
            const post = postsData[postId];
            
            if (post) {
                document.getElementById('postModalLabel').textContent = 'Edit Post';
                document.getElementById('postId').value = postId;
                document.getElementById('postTitle').value = post.title;
                document.getElementById('postCategory').value = post.category;
                document.getElementById('postExcerpt').value = post.excerpt;
                document.getElementById('postTags').value = post.tags;
                document.getElementById('postStatus').value = post.status;
                
                quill.root.innerHTML = post.content;
                
                const modal = new bootstrap.Modal(document.getElementById('postModal'));
                modal.show();
            }
        }

        function viewPost(postId) {
            // Redirect to detail page or open in new tab
            window.open('detail_blog.html', '_blank');
        }

        function deletePost(postId) {
            if (confirm('Are you sure you want to delete this post? This action cannot be undone.')) {
                // Here you would make an API call to delete the post
                console.log('Deleting post:', postId);
                
                // For demo, just hide the post item
                const postElement = document.querySelector(`[onclick="deletePost(${postId})"]`).closest('.post-item');
                if (postElement) {
                    postElement.remove();
                }
                
                showToast('Post deleted successfully', 'success');
            }
        }

        function publishPost(postId) {
            if (confirm('Are you sure you want to publish this post?')) {
                console.log('Publishing post:', postId);
                showToast('Post published successfully', 'success');
                
                // Update the status badge
                const postElement = document.querySelector(`[onclick="publishPost(${postId})"]`).closest('.post-item');
                const statusBadge = postElement.querySelector('.badge.bg-warning');
                if (statusBadge) {
                    statusBadge.className = 'badge bg-success';
                    statusBadge.textContent = 'Published';
                }
                
                // Remove publish button
                const publishBtn = document.querySelector(`[onclick="publishPost(${postId})"]`);
                if (publishBtn) {
                    publishBtn.remove();
                }
            }
        }

        function savePost() {
            const formData = {
                id: document.getElementById('postId').value,
                title: document.getElementById('postTitle').value,
                category: document.getElementById('postCategory').value,
                excerpt: document.getElementById('postExcerpt').value,
                content: quill.root.innerHTML,
                tags: document.getElementById('postTags').value,
                status: document.getElementById('postStatus').value
            };

            // Validate required fields
            if (!formData.title || !formData.category) {
                showToast('Please fill in all required fields', 'error');
                return;
            }

            console.log('Saving post:', formData);
            
            // Close modal
            const modal = bootstrap.Modal.getInstance(document.getElementById('postModal'));
            modal.hide();
            
            showToast(isEditMode ? 'Post updated successfully' : 'Post created successfully', 'success');
            
            // Refresh the page or update the post list
            setTimeout(() => {
                location.reload();
            }, 1000);
        }

        function saveDraft() {
            document.getElementById('postStatus').value = 'draft';
            savePost();
        }

        function filterPosts() {
            const statusFilter = document.getElementById('statusFilter').value;
            const categoryFilter = document.getElementById('categoryFilter').value;
            const searchQuery = document.getElementById('searchInput').value.toLowerCase();
            
            const postItems = document.querySelectorAll('.post-item');
            let visibleCount = 0;
            
            postItems.forEach(item => {
                const status = item.getAttribute('data-status');
                const category = item.getAttribute('data-category');
                const title = item.querySelector('.card-title').textContent.toLowerCase();
                
                const statusMatch = !statusFilter || status === statusFilter;
                const categoryMatch = !categoryFilter || category === categoryFilter;
                const searchMatch = !searchQuery || title.includes(searchQuery);
                
                if (statusMatch && categoryMatch && searchMatch) {
                    item.style.display = 'block';
                    visibleCount++;
                } else {
                    item.style.display = 'none';
                }
            });
            
            // Show/hide empty state
            const emptyState = document.getElementById('emptyState');
            const postsList = document.getElementById('postsList');
            
            if (visibleCount === 0) {
                emptyState.style.display = 'block';
                postsList.style.display = 'none';
            } else {
                emptyState.style.display = 'none';
                postsList.style.display = 'block';
            }
        }

        function showToast(message, type = 'success') {
            // Create toast element
            const toastHtml = `
                <div class="toast align-items-center text-white bg-${type === 'success' ? 'success' : 'danger'} border-0" role="alert" aria-live="assertive" aria-atomic="true" style="position: fixed; top: 20px; right: 20px; z-index: 1055;">
                    <div class="d-flex">
                        <div class="toast-body">
                            ${message}
                        </div>
                        <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', toastHtml);
            const toastElement = document.querySelector('.toast:last-child');
            const toast = new bootstrap.Toast(toastElement);
            toast.show();
            
            // Remove toast element after it's hidden
            toastElement.addEventListener('hidden.bs.toast', function() {
                toastElement.remove();
            });
        }
    </script>
</body>
</html>